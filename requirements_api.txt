# ================================================================
# 🎵 MLOps Cloud Project - API Server Dependencies
# ---------------------------------------------------------------
# 대상: FastAPI Backend (music_recommender_api)
# 목적: 모델 로딩, Spotify API 통신, MLflow 추적, DB 연동
# ================================================================


# ----------------------------------------------------------------
# 1️⃣ 환경 / 설정
# ----------------------------------------------------------------
python-dotenv          # 환경변수(.env) 로딩용


# ----------------------------------------------------------------
# 2️⃣ 데이터 처리 / 머신러닝 기본 패키지
# ----------------------------------------------------------------
pandas                 # 데이터프레임 처리
numpy                  # 수치 연산 기본 패키지
scikit-learn           # ML 유틸리티 및 평가 지표
joblib                 # 모델 직렬화 및 캐싱


# ----------------------------------------------------------------
# 3️⃣ 모델링 / 프레임워크
# ----------------------------------------------------------------
torch                  # 딥러닝 기반 모델 (PyTorch)
lightgbm               # Gradient Boosting 기반 모델
faiss-cpu              # 벡터 유사도 검색 (추천 시스템에 사용)


# ----------------------------------------------------------------
# 4️⃣ 서버 / API (FastAPI 기반 백엔드)
# ----------------------------------------------------------------
fastapi                # REST API 서버
uvicorn[standard]      # ASGI 서버 (FastAPI 실행용)
pydantic               # 데이터 검증 및 모델 스키마
requests               # 외부 HTTP 요청 처리


# ----------------------------------------------------------------
# 5️⃣ Spotify API 통신
# ----------------------------------------------------------------
# - 앨범 커버 이미지, 트랙 메타데이터 수집에 사용
# - Streamlit(UI) 컨테이너가 아니라 FastAPI(API)에 포함되어야 함
spotipy


# ----------------------------------------------------------------
# 6️⃣ MLOps Tracking / Artifact 관리
# ----------------------------------------------------------------
mlflow                 # 실험 관리 및 모델 버전 관리
boto3                  # S3 또는 MinIO 연동용


# ----------------------------------------------------------------
# 7️⃣ 데이터베이스 / 저장소 연동
# ----------------------------------------------------------------
SQLAlchemy             # ORM / 데이터베이스 연결
pymysql                # MySQL 드라이버
pyarrow                # Arrow 포맷 변환
fastparquet            # Parquet 파일 입출력


# ----------------------------------------------------------------
# ❗ Streamlit UI 컨테이너 관련 주의
# ----------------------------------------------------------------
# - 이 파일은 오직 FastAPI 서버 컨테이너용입니다.
# - Streamlit 컨테이너는 별도 파일 `requirements_streamlit.txt` 사용.
#   이유:
#     1. 이미지 크기 최소화 (lightgbm, uvicorn 등 불필요 패키지 제외)
#     2. 서비스별 종속성 격리로 유지보수성 향상
# ----------------------------------------------------------------
